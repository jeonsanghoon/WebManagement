(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7608c8f8"],{"27b2":function(t,e,a){"use strict";var n=a("6a50"),s=a.n(n);s.a},"38ab":function(t,e,a){},"6a50":function(t,e,a){},7347:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-row",{attrs:{"fill-height":"",fluid:""}},[a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("Vuetify-menutitle",{attrs:{title:"미디어 작업실 > 사이니지",icon:"icon-mediaedit",isDevider:!1}})],1),a("v-col",{staticClass:"mt-0 pt-2 ondaji_color_grey_10 menutitle",attrs:{cols:"12"}},[a("span",{staticClass:"ondaji_font_18_bold_grey_70"},[t._v("사이니지 편집 ")]),a("span",{staticClass:"ondaji_font_16_medium_grey_60 pl-2"},[t._v(t._s(t.signage.signName)+" ")]),a("v-chip",{staticClass:"ml-2",attrs:{outlined:"",rounded:"",color:"fafafa",small:""}},[t._v(t._s(t.signage.frameTypeName))])],1),a("v-col",{attrs:{cols:"12",sm:"5"}},[a("div",{staticClass:" ondaji_color_brown_10"},[a("v-container",[a("v-row",[a("v-col",{staticClass:"py-0 conditionPadding",attrs:{cols:"12"}},[a("v-divider",{staticClass:"pb-0"})],1),a("v-col",{staticClass:"py-1 conditionPadding text-left",attrs:{cols:"12"}},[a("Vuetify-Selectbox",{staticClass:"pt-0",attrs:{options:t.selItems},model:{value:t.selData,callback:function(e){t.selData=e},expression:"selData"}}),a("v-divider",{staticClass:"py-0 dividerAlign",attrs:{vertical:""}}),a("Vuetify-Selectbox",{attrs:{options:t.selItems2},model:{value:t.selData2,callback:function(e){t.selData2=e},expression:"selData2"}})],1),a("v-col",{staticClass:"py-0 conditionPadding",attrs:{cols:"12"}},[a("tableFooter",{attrs:{info:{totalNum:t.bannerTotalPage,PAGE_TOTAL_NUM:1},viewStyle:1,perText:"of"},on:{getPageInfo:t.changePage1}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[t.notDataShow1?a("v-card",{staticClass:"dvList",attrs:{outlined:"",color:"transparent","fill-height":"",fluid:""}},[a("div",{staticClass:"notDataShow"},[a("h3",[t._v("등록된 배너가 없습니다. ")]),a("br"),a("h3",[t._v("배너를 등록해 주세요. ")])])]):t._e(),a("v-list",{staticClass:"dvList ondaji_color_brown_10 py-1"},t._l(t.currentPage1List,(function(e,n){return a("v-list-item",{key:n,staticClass:"white my-2 ml-0"},[a("Vuetify-bannerListCard",{model:{value:t.currentPage1List[n],callback:function(e){t.$set(t.currentPage1List,n,e)},expression:"currentPage1List[i]"}})],1)})),1)],1)],1)],1)],1)]),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-row",{staticClass:"align-center justify-center",attrs:{"fill-height":"",fluid:""}},[a("v-col",{staticClass:"my-auto",attrs:{cols:"12"}},[a("Buttons-default",{staticClass:"mt-10",attrs:{btnType:"primary",size:40,appendIcon:"fas fa-chevron-right",btnText:"게시",button:"",rounded:""},on:{click:t.signageBannerAdd}})],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"5"}},[a("div",{staticClass:"ondaji_color_brown_10"},[a("v-container",[a("v-row",[a("v-col",{staticClass:"pb-0 conditionPadding",attrs:{cols:"6"}},[a("div",{staticClass:"order-btn-wrap ondaji_color_grey_20 d-flex align-center mt-1"},[a("Vuetify-listOrder",{on:{change:t.orderChange},model:{value:t.currentPage2List,callback:function(e){t.currentPage2List=e},expression:"currentPage2List"}})],1)]),a("v-col",{staticClass:"text-right pb-0 conditionPadding",attrs:{cols:"6"}},[a("v-btn",{attrs:{icon:"",fab:"",small:"",color:"#3e2723"},on:{click:t.bannerDelete}},[a("v-icon",[t._v("fas fa-trash-alt")])],1),a("Buttons-default",{staticClass:"ml-2",attrs:{btnType:"primary",btnText:"업로드",size:24},on:{click:t.signageBannerUpdate}})],1),a("v-col",{staticClass:"py-0 conditionPadding",attrs:{cols:"12"}},[a("tableFooter",{attrs:{info:{totalNum:t.signageBannerTotalPage,PAGE_TOTAL_NUM:1},viewStyle:1,perText:"of"},on:{getPageInfo:t.changePage2}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[t.notDataShow2?a("v-card",{staticClass:"dvList",attrs:{outlined:"",color:"transparent","fill-height":"",fluid:""}},[a("div",{staticClass:"notDataShow"},[a("h3",[t._v("등록된 배너가 없습니다. ")]),a("br"),a("h3",[t._v("배너를 등록해 주세요.")])])]):a("v-list",{staticClass:"dvList ondaji_color_brown_10 py-1"},t._l(t.currentPage2List,(function(e,n){return a("v-list-item",{key:e.code,staticClass:"white my-2 ml-0"},[a("Vuetify-bannerListCard",{attrs:{seqName:"seq",index:n,isPrivateShow:!0},on:{callback:t.bannerItemCallback},model:{value:t.currentPage2List[n],callback:function(e){t.$set(t.currentPage2List,n,e)},expression:"currentPage2List[i]"}})],1)})),1)],1)],1)],1)],1)])],1)],1)},s=[];function i(t){return c(t)||o(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var l={props:{id:{default:1}},created:function(){this.signage=this.$route.params,this.memberCode=this.$BaseCommon.memberInfo.getMember().member.memberCode,this.orderText=this.selItems[0].text,this.getBannerList(),this.getSignageBannerList()},watch:{bannerList:function(t){t.length>0?this.bannerTotalPage=Math.floor(t.length/this.pageSize)+(t.length%this.pageSize>1?1:0):this.bannerTotalPage=1,this.changePage1({curPage:this.currentPage1-1})},signageBannerList:function(t){t.length>0?this.signageBannerTotalPage=t[t.length-1].page+1:this.signageBannerTotalPage=1,this.changePage2({curPage:this.currentPage2-1})},currentPage1List:function(t){console.log("currentPage1List",t)},currentPage2List:function(t){var e=this;console.log("currentPage2List",t),t.forEach((function(){setTimeout((function(){e.currentPage2List.length>5&&(e.currentPage2List[4].isPrivate=!0)}),500)}))},menu:function(){},selData:function(){this.getBannerList()},selData2:function(){this.getBannerList()}},data:function(){return{menu:!1,orderText:"",pageSize:6,memberCode:-1,notDataShow1:!1,notDataShow2:!1,signage:{signCode:-1},bannerList:[],bannerTotalPage:1,signageBannerList:[],signageBannerTotalPage:1,currentPage1:1,currentPage1List:[],currentPage2:1,currentPage2List:[],selData:{value:"a.update_date desc",text:"최근 수정된 순서"},selItems:[{value:"a.update_date desc",text:"최근 수정된 순서"},{value:"a.insert_date desc",text:"최근 제작일 순"},{value:"a.insert_date",text:"오래된 제작일 순"},{value:"a.title",text:"배너명(↑)"},{value:"a.title desc",text:"배너명(↓)"}],selData2:{value:[1,2],text:"정보/광고"},selItems2:[{value:[1,2],text:"정보/광고"},{value:[1],text:"정보"},{value:[2],text:"광고"}]}},methods:{getBannerList:function(){var t=this;this.$BaseCommon.restful.call2("/banner/getbannerstorelist",{notSignCode:this.signage.signCode,memberCode:this.memberCode,orderBy:this.selData.value,bannerType:this.selData2.value,inStatus:"9,99"}).then((function(e){t.bannerList=[],setTimeout((function(){t.bannerList=i(e)}),100)})).catch((function(e){t.$alert(JSON.stringify(e)),console.log("/banner/getbannerstorelist >> ",e)}))},getBannerOrder:function(t){this.orderText=t.text},getSignageBannerList:function(){var t=this;this.$BaseCommon.restful.call2("/signage/getSignageBannerList",{signCode:this.signage.signCode}).then((function(e){t.signageBannerList=[],setTimeout((function(){t.signageBannerList=i(e)}),100)})).catch((function(e){t.$alert(e),console.log("/banner/getbannerstorelist >> ",e)}))},saveListChekeds:function(){var t=i(this.currentPage1List.filter((function(t){return!0===t.bChk})));return t},deleteListChekeds:function(){var t=i(this.currentPage2List.filter((function(t){return!0===t.bChk})));return t},saveListSet:function(){var t=this,e=this.getLastSeq(this.currentPage2List),a=i(this.saveListChekeds());return a.forEach((function(n,s){a[s].page=t.currentPage2,a[s].seq=e,e++})),a},getLastSeq:function(t){var e=this,a=t.filter((function(t){return t.page===e.currentPage2})),n=0===a.length?1:a.sort((function(t,e){return e.seq-t.seq}))[0].seq+1;return n},signageBannerAdd:function(){var t=i(this.saveListSet());0!==t.length?this.signage.frameType>1&&t.length+this.currentPage2List.length>this.signage.frameType?this.$alert("최대 등록 갯수는 ".concat(this.signage.frameType,"개 입니다.")):this.signageBannerListSave(t):this.$alert("선택된 데이터가 없습니다.")},signageBannerUpdate:function(){var t=this.currentPage2List.filter((function(t){return"U"===(t.editMode||"")}));this.signageBannerListSave(t)},signageBannerListSave:function(t){var e=this;0!==t.length?this.$BaseCommon.restful.call2("/signage/signageBannerListSave",t).then((function(t){if("Error"==t.resultType)throw new Error(t.message);e.getBannerList(),e.getSignageBannerList()})).catch((function(t){e.$alert(t.message)})):this.$alert("저장할 데이터가 업습니다.")},bannerDelete:function(){var t=this,e=i(this.deleteListChekeds());0!==e.length?this.$alert("선택한 배너를 정말로 삭제하시겠습니까?",{alertType:"del"}).then((function(a){a&&t.bannerDeleteExec(e)})):this.$alert("삭제할 데이터가 없습니다.")},bannerDeleteExec:function(t){var e=this;this.$BaseCommon.restful.call2("/signage/signageBannerListDelete",t).then((function(t){if("Error"==t.resultType)throw new Error(t.message);e.getBannerList(),e.getSignageBannerList()})).catch((function(t){e.$alert(t.message)}))},bannerItemCallback:function(t,e){var a=this;this.signageBannerList[e]=t;var n=i(this.signageBannerList);this.signageBannerList=[],setTimeout((function(){a.signageBannerList=n}),200)},changePage1:function(t){console.log(t),this.currentPage1=t.curPage+1,this.currentPage1List=[];var e=this;setTimeout((function(){e.currentPage1List=e.bannerList.filter((function(t){return t.rowNum>(e.currentPage1-1)*e.pageSize&&t.rowNum<=e.currentPage1*e.pageSize})),e.setNotDataMessage(e.currentPage1List,1)}),200)},changePage2:function(t){var e=this;console.log(t),this.currentPage2=t.curPage+1,this.currentPage2List=[],setTimeout((function(){e.currentPage2List=e.signageBannerList.filter((function(t){return t.page===e.currentPage2})),e.setNotDataMessage(e.currentPage2List,2)}),200)},setNotDataMessage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;0===t.length?this["notDataShow"+String(e)]=!0:this["notDataShow"+String(e)]=!1},selectChange:function(t){console.log(t)},orderChange:function(t){var e=this;this.currentPage2List=[],t.forEach((function(e,a){t[a].editMode="U"})),setTimeout((function(){console.log(t),e.currentPage2List=i(t)}),0)}}},g=l,u=(a("8c5b"),a("27b2"),a("2877")),h=a("6544"),f=a.n(h),d=a("8336"),v=a("b0af"),m=a("cc20"),b=a("62ad"),L=a("a523"),p=a("ce7e"),P=a("132d"),C=a("8860"),_=a("da13"),y=a("0fd9"),B=Object(u["a"])(g,n,s,!1,null,"4c8271ee",null);e["default"]=B.exports;f()(B,{VBtn:d["a"],VCard:v["a"],VChip:m["a"],VCol:b["a"],VContainer:L["a"],VDivider:p["a"],VIcon:P["a"],VList:C["a"],VListItem:_["a"],VRow:y["a"]})},"8c5b":function(t,e,a){"use strict";var n=a("38ab"),s=a.n(n);s.a}}]);
//# sourceMappingURL=chunk-7608c8f8.js.map