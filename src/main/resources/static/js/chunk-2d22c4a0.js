(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22c4a0"],{f330:function(t,a,e){"use strict";e.r(a);var l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{ref:"bannerInfo",staticClass:"bannerInfo",attrs:{fluid:""}},[e("v-row",[e("v-col",{staticStyle:{height:"20px"}},[e("p",{staticClass:"caption text-left ma-0"},[t._v(" * 서브배너는 최대 "+t._s(t.maxItemCount)+"개까지만 등록 가능합니다. ")])])],1),e("v-row",[t._l(t.uploadList,(function(a,l){return e("v-col",{key:a.seq,attrs:{cols:"12",xs:"12",sm:"6",md:"4",xl:"3"}},[e("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[e("v-container",{staticClass:"pa-0"},[e("v-row",{staticStyle:{height:"20px"}},[e("v-col",{staticClass:"pt-1",attrs:{cols:"12",sm:"6",lg:"6",align:"start"}},[e("div",{staticClass:"pl-1 subtitle font-weight-bold"},[t._v(" "+t._s(0===l?"메인배너":"서브배너")+" "+t._s(a.seq)+" ")])]),e("v-col",{attrs:{cols:"12",sm:"6",lg:"6"}},[0!==l?e("div",{staticStyle:{position:"absolute",top:"10px",right:"10px","z-index":"99"}},[e("v-btn",{staticClass:"pa-0 red--text",attrs:{text:"","x-small":""},on:{click:function(e){return t.deleteBanner(a.seq)}}},[e("i",{staticClass:"fas fa-minus fa-2x"})])],1):t._e()])],1),e("v-row",[e("v-col",[e("Vuetify-filepond2",{attrs:{index:a.seq,options:t.uploadOption,file_type:null===a.playType?"image/*,video/mp4":1===a.playType?"image/*":"video/mp4"},on:{uploadCallback:function(e){return t.uploadCallback(a.seq)},deleteCallback:function(e){return t.deletefileCallback(a.seq)}},model:{value:a.fileData,callback:function(e){t.$set(a,"fileData",e)},expression:"data.fileData"}})],1)],1),e("v-row",[e("v-col",{staticClass:"pb-1"},[0!==l?e("v-textarea",{staticClass:"pb-0",attrs:{"no-resize":"",outlined:"",name:"input-7-4",label:t.label,value:"",maxlength:400},model:{value:a.content,callback:function(e){t.$set(a,"content",e)},expression:"data.content"}}):t._e()],1)],1)],1)],1)],1)})),t.maxItemCount+1>t.uploadList.length?e("v-col",{attrs:{cols:"12",xs:"12",sm:"6",md:"4",xl:"3"}},[e("v-hover",{scopedSlots:t._u([{key:"default",fn:function(a){var l=a.hover;return[e("v-card",{staticClass:"justify-center align-center pa-2",staticStyle:{"vertical-align":"middle","line-height":"520px"},attrs:{elevation:l?8:0,height:"520",tile:""},on:{click:t.addBanner}},[e("i",{staticClass:"fas fa-plus fa-4x"})])]}}],null,!1,3071604372)}),e("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.isShow,callback:function(a){t.isShow=a},expression:"isShow"}},[e("v-card",[e("v-card-title",[e("Vuetify-menutitle",{attrs:{title:"동영상 썸네일"}})],1),e("v-card-text",[e("v-container",[e("Vuetify-videoUpload",{attrs:{index:t.popIndex,isUpload:!1,isThumbnail:!0},on:{callBack:t.videoPick}})],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("닫기")])],1)],1)],1)],1):t._e()],2),e("v-row",[e("v-col",[e("v-btn",{on:{click:t.confirmInfo}},[t._v("정보확인")])],1)],1),e("v-row",[e("v-col",[e("v-textarea",{attrs:{label:"정보확인 결과값",outlined:""},model:{value:t.rtnData,callback:function(a){t.rtnData=a},expression:"rtnData"}})],1)],1)],1)},i=[];function n(t){return r(t)||s(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function r(t){if(Array.isArray(t)){for(var a=0,e=new Array(t.length);a<t.length;a++)e[a]=t[a];return e}}var u={props:{maxItemCount:{type:Number,default:4},maxLength:{type:Number,default:400},loadList:{type:Array,default:function(){return[]}}},data:function(){var t=this;return{isShow:!1,popIndex:1,uploadCount:2,label:"",rtnData:"",fileData:{},uploadData:{bannerCode:null,subIdx:null,seq:0,playType:null,thumbImageUrl:null,bannerImageUrl:null,bannerMovieUrl:null,content:null,fileData:null},uploadList:[],uploadOption:{tagName:"upload",uploadUrl:"/file/uploadfilepond",params:{isThumbnail:!0,size:300}},phone_number:"",RuleTextArea:[function(a){return a.length<=t.maxLength||"최대 ".concat(t.maxLength,"자까지 입력가능합니다.")}]}},mounted:function(){for(var t=1;t<=this.uploadCount;t++)this.$EventBus.$emit("videoUpload"+String(t)+"_init",this.uploadOption.params.isThumbnail)},created:function(){this.label="상세내용(최대 "+this.maxLength+"자)",0===this.loadList.length?this.uploadList.push(this.uploadData):this.uploadList=n(this.loadList)},methods:{uploadCallback:function(t){var a=this,e=this.uploadList.findIndex((function(a){return a.seq===t}));console.log("uploadCallback",t,this.uploadList[e].fileData);var l=this.uploadList[e].fileData;if("video/mp4"==l.fileContentType){this.uploadList[e].playType=2,this.uploadList[e].bannerMovieUrl=this.uploadList[e].fileData.attachmentUrl,this.isShow=!0;var i=this;setTimeout((function(){i.$EventBus.$emit("videoUploadInit",e,{videoUrl:a.uploadList[e].bannerMovieUrl,arrThumbNailImage:a.uploadList[e].fileData.arrThumbNailImage})}),500)}else this.uploadList[e].playType=1,this.uploadList[e].bannerImageUrl=this.uploadList[e].fileData.attachmentUrl;this.uploadList[e].thumbImageUrl=this.uploadList[e].fileData.thumbNailImage,this.popIndex=e,console.log("uploadCallback total",e,this.uploadList)},deletefileCallback:function(t){console.log("deletefileCallback >> ",t)},addBanner:function(){if(this.uploadList.length<this.maxItemCount+1){var t=Object.assign({},this.uploadData);t.seq=0===this.uploadList.length?1:this.uploadList[this.uploadList.length-1].seq+1,t.content="",this.uploadList.push(t)}},deleteBanner:function(t){var a=this,e=this.uploadList.filter((function(a){return a.seq==t}));null!==e.fileData&&this.$BaseCommon.restful.call("/file/deletefile",e.fileData).then((function(t){null!=t&&("error"==t.resultType.toLowerCase()?(a.messageInfo.value=!0,a.messageInfo.message=t.message):(a.messageInfo.value=!1,a.messageInfo.message=""))})),console.log("삭제 데이터 >> ",e),this.uploadList=n(this.uploadList.filter((function(a){return a.seq!==t})))},confirmInfo:function(){var t=n(this.uploadList);t.forEach((function(a,e){delete t[e]["fileData"]})),this.rtnData=JSON.stringify(t)},close:function(){this.isShow=!1},save:function(){this.isShow=!1},videoPick:function(t,a){console.log("썸네일 만든후",t,a),this.isShow=!1,this.uploadList[a].thumbImageUrl=t.pickThumb}}},c=u,d=e("2877"),p=e("6544"),h=e.n(p),f=e("8336"),v=e("b0af"),m=e("99d9"),b=e("62ad"),g=e("a523"),x=e("169a"),y=e("16b7"),L=e("f2e7"),C=e("58df"),w=e("d9bd"),k=Object(C["a"])(y["a"],L["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(t=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag?(this.disabled||(t.data=t.data||{},this._g(t.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),t):(Object(w["c"])("v-hover should only contain a single element",this),t)):(Object(w["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var t}}),I=e("0fd9"),D=e("2fa4"),S=e("a844"),T=Object(d["a"])(c,l,i,!1,null,null,null);a["default"]=T.exports;h()(T,{VBtn:f["a"],VCard:v["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VCol:b["a"],VContainer:g["a"],VDialog:x["a"],VHover:k,VRow:I["a"],VSpacer:D["a"],VTextarea:S["a"]})}}]);
//# sourceMappingURL=chunk-2d22c4a0.js.map