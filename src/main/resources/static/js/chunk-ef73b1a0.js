(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef73b1a0"],{"4bd4":function(t,e,i){"use strict";var a=i("58df"),o=i("7e2b"),n=i("3206");function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e["a"]=Object(a["a"])(o["a"],Object(n["b"])("form")).extend({name:"v-form",inheritAttrs:!1,props:{lazyValidation:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,i=function(t){return t.$watch("hasError",(function(i){e.$set(e.errorBag,t._uid,i)}),{immediate:!0})},a={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?a.shouldValidate=t.$watch("shouldValidate",(function(o){o&&(e.errorBag.hasOwnProperty(t._uid)||(a.valid=i(t)))})):a.valid=i(t),a},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var i=this.watchers.find((function(t){return t._uid===e._uid}));i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:r({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},bc26:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"fluid fill-height align-start justify-start"},[i("v-form",{ref:"form",staticStyle:{width:"100%"},attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-row",[i("v-col",{attrs:{cols:12}},[i("Vuetify-menutitle",{attrs:{title:"공지사항 등록",icon:"fa fa-bullhorn"}})],1)],1),i("v-row",[i("v-col",{staticClass:"pb-0"},[i("v-text-field",{attrs:{label:"제목",placeholder:"제목을 입력하세요",rules:t.checkRule.titleRules,outlined:"",dense:""},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1)],1),i("v-row",{staticClass:"fill-height align-start justify-start"},[i("v-col",{staticClass:"pt-0"},[i("htmlEditor2",{ref:"editor",attrs:{isImageBaseMode:!0},on:{imageToServerCallback:t.doSave},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"6"}},[i("Vuetify-filepond",{attrs:{options:t.allFileOption},on:{uploadCallback:t.uploadCallback,deleteCallback:t.deletefileCallback}})],1),i("v-col",[i("v-card",{attrs:{outlined:"","min-height":"80px"}},[0===t.fileList.length?i("div",{staticClass:"subtitle-1 pt-5"},[t._v(" 저장된 파일이 없습니다. ")]):t._e(),i("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[i("tbody",t._l(t.fileList,(function(e){return i("tr",{key:e.fileCode},[i("td",{staticClass:"text-left"},[i("a",{on:{click:function(i){return t.fileDdown(e)}}},[t._v(" "+t._s(e.fileName)+" ( "+t._s(t.$BaseCommon.numberInfo.getFileSize(e.fileSize))+" ) ")]),i("v-btn",{attrs:{icon:"",color:"red",small:""},on:{click:function(i){return t.delFile(e)}}},[i("v-icon",[t._v("fas fa-times-circle")])],1)],1)])})),0)]},proxy:!0}])})],1)],1)],1),i("v-row",[i("v-col",{staticClass:"text-md-right pa-0 mt-0"},[i("Vuetify-button",{staticClass:"ma-2",attrs:{name:"btnList",btntype:this.$Config.vuetify.btn.type.list,text:"목록"},on:{click:t.moveList}}),i("Vuetify-button",{staticClass:"ma-2",attrs:{name:"btnDel",btntype:this.$Config.vuetify.btn.type.delete,text:"삭제"},on:{click:t.doDel}}),i("Vuetify-button",{staticClass:"ma-2",attrs:{name:"btnSave",btntype:this.$Config.vuetify.btn.type.save,text:"저장"},on:{click:t.doSaveCheck}})],1)],1)],1)],1)},o=[],n={mounted:function(){this.$BaseCommon.settingInfo.pageInit({el:this.$el,isEditCheck:!0})},created:function(){var t=this;this.$EventBus.$on("boardLoad",(function(e){console.log("boardLoad",e),t.doQuery(e)})),this.formData=this.$route.params,null===this.formData&&(this.formData={boardType:1,title:"",content:"",boardCode:0}),console.log("formData",this.formData),this.doQuery(this.formData)},data:function(){return{valid:!0,formData:{boardType:1,title:"",content:"",boardCode:0,uploadFiles:[]},fileList:[],title:"",content:"",bImageSave:!1,checkRule:{titleRules:[function(t){return!!t||"제목을 입력하세요"}],contentRules:"내용을 입력하세요"},allFileOption:{tagName:"fileupload2",uploadUrl:"/file/fileupload"},rtnData:""}},methods:{htmlEditor_onTextChange:function(t){console.log("htmlEditor_onTextChange",t)},doQuery:function(t){var e=this;this.$BaseCommon.restful.call2("/board/getlist",t).then((function(i){1==i.length&&(e.formData={},e.formData.boardType=t.boardType,e.formData.boardCode=i[0].boardCode,e.formData.title=i[0].title,e.formData.content=i[0].content,console.log("검색완료",e.formData),e.doRead(),e.getFileList()),console.log(i)}))},getFileList:function(){var t=this;this.$BaseCommon.restful.call2("/file/getList",{tableName:"t_board",tableKey:String(this.formData.boardCode)}).then((function(e){t.fileList=e}))},delFile:function(t){var e=this;this.$alert("선택한 파일을 정말로 삭제하시겠습니까?",{alertType:"del"}).then((function(i){i&&e.$BaseCommon.restful.call2("/file/delete",t).then((function(t){console.log(t),e.getFileList()}))}))},doSaveCheck:function(){this.$refs.form.validate()&&null!==this.formData&&this.$EventBus.$emit("imageToServer")},doSave:function(){var t=this;this.$BaseCommon.restful.call("/board/save",this.formData).then((function(e){t.$EventBus.$emit("announceChange"),t.moveList(),console.log("announce_doSave",e)})).catch((function(t){console.log(t)}))},doRead:function(){var t=this;this.$BaseCommon.memberInfo.getMember().isLogin&&null!==this.formData&&this.$BaseCommon.restful.call("/board/read",this.formData).then((function(e){console.log(e),t.$EventBus.$emit("announceChange")}))},doDel:function(){var t=this;null!==this.formData&&this.$alert("데이터를 정말로 삭제하시겠습니까?",{alertType:"del"}).then((function(e){e&&t.$BaseCommon.restful.call("/board/delete",t.formData).then((function(e){t.$EventBus.$emit("announceChange"),t.moveList(),console.log(e)}))}))},moveList:function(){this.$BaseCommon.hostInfo.redirect("/board/list")},uploadCallback:function(t,e){console.log("uploadCallback >> ",t),console.log("uploadCallback >> ",e),this.rtnData=JSON.stringify(e);var i=0===this.fileList.length?1:this.fileList[this.fileList.length-1].idx+1,a={idx:i,fileName:e[0].oriFileName,fileSize:e[0].fileSize,fileUrl:e[0].attachmentUrl,fileExt:e[0].fileContentType};this.fileList.push(a),e[0].idx=i,this.formData.boardCode=void 0===this.formData.boardCode?0:this.formData.boardCode,0===this.formData.boardCode?(this.formData.uploadFiles=void 0===this.formData.uploadFiles?[]:this.formData.uploadFiles,this.formData.uploadFiles.push(e[0])):this.addFileExec(a)},addFileExec:function(t){var e=this;t.tableKey=String(this.formData.boardCode),this.$BaseCommon.restful.call("/board/addFile",t).then((function(t){console.log(t),e.getFileList()}))},deletefileCallback:function(t){console.log("deletefileCallback >> ",t),this.rtnData=JSON.stringify(t)},fileDdown:function(t){this.$BaseCommon.formInfo.filedownload2(t.fileUrl)}},beforeDestroy:function(){console.log("beforeDestroy"),this.$EventBus.$off("boardLoad")}},l=n,r=i("2877"),s=i("6544"),c=i.n(s),u=i("8336"),f=i("b0af"),d=i("62ad"),h=i("a523"),m=i("4bd4"),b=i("132d"),v=i("0fd9"),p=i("1f4f"),g=i("8654"),C=Object(r["a"])(l,a,o,!1,null,null,null);e["default"]=C.exports;c()(C,{VBtn:u["a"],VCard:f["a"],VCol:d["a"],VContainer:h["a"],VForm:m["a"],VIcon:b["a"],VRow:v["a"],VSimpleTable:p["a"],VTextField:g["a"]})}}]);
//# sourceMappingURL=chunk-ef73b1a0.js.map